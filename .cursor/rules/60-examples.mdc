---
description: Common Chrome extension patterns and examples
globs: ['src/**/*.{ts,tsx}']
alwaysApply: false
---

## Storage

```ts
import browser from 'webextension-polyfill';

await browser.storage.local.set({ key: value });
const { key } = await browser.storage.local.get(['key']);
```

## Message Passing

```ts
import browser from 'webextension-polyfill';

await browser.runtime.sendMessage({ action: 'getData' });

browser.runtime.onMessage.addListener((request, _sender, sendResponse) => {
  if (request.action === 'getData') {
    sendResponse({ data: 'response' });
  }
});
```

## Active Tab

```ts
import browser from 'webextension-polyfill';

const [activeTab] = await browser.tabs.query({
  active: true,
  currentWindow: true,
});
```
